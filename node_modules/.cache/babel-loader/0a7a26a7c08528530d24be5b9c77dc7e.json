{"remainingRequest":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/babel-loader/lib/index.js!/home/brkkali/works/TestCases/bookstore/book-store/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/brkkali/works/TestCases/bookstore/book-store/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/brkkali/works/TestCases/bookstore/book-store/src/views/BookList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/brkkali/works/TestCases/bookstore/book-store/src/views/BookList.vue","mtime":1598403430066},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvaG9tZS9icmtrYWxpL3dvcmtzL1Rlc3RDYXNlcy9ib29rc3RvcmUvYm9vay1zdG9yZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBib29rTGlzdEl0ZW0gZnJvbSAiLi4vY29tcG9uZW50cy9ib29rTGlzdEl0ZW0iOwppbXBvcnQgcGFnaW5hdGlvbiBmcm9tICIuLi9jb21wb25lbnRzL3BhZ2luYXRpb24iOwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQm9va0xpc3QiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rTGlzdDogdGhpcy4kc3RvcmUuc3RhdGUuYm9va3MsCiAgICAgIHBhZ2VMaW1pdDogMywKICAgICAgY3VycmVudFBhZ2U6IDAsCiAgICAgIHZpc2libGVJdGVtczogW10sCiAgICAgIHBhZ2VzOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyh7CiAgICBkZWxldGU6ICJkZWxldGVCb29rIgogIH0pKSwge30sIHsKICAgIHVwZGF0ZVBhZ2U6IGZ1bmN0aW9uIHVwZGF0ZVBhZ2UocGFnZU51bWJlcikgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZU51bWJlcjsKICAgICAgdGhpcy51cGRhdGVWaXNpYmxlSXRlbXMoKTsKICAgIH0sCiAgICB1cGRhdGVWaXNpYmxlSXRlbXM6IGZ1bmN0aW9uIHVwZGF0ZVZpc2libGVJdGVtcygpIHsKICAgICAgdGhpcy52aXNpYmxlSXRlbXMgPSB0aGlzLmJvb2tMaXN0LnNsaWNlKHRoaXMuY3VycmVudFBhZ2UgKiB0aGlzLnBhZ2VMaW1pdCwgdGhpcy5jdXJyZW50UGFnZSAqIHRoaXMucGFnZUxpbWl0ICsgdGhpcy5wYWdlTGltaXQpOwoKICAgICAgaWYgKHRoaXMudmlzaWJsZUl0ZW1zLmxlbmd0aCA9PSAwICYmIHRoaXMuY3VycmVudFBhZ2UgPiAwKSB7CiAgICAgICAgdGhpcy51cGRhdGVQYWdlKHRoaXMuY3VycmVudFBhZ2UgLSAxKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVBhZ2VzbGVuZ3RoOiBmdW5jdGlvbiB1cGRhdGVQYWdlc2xlbmd0aCgpIHsKICAgICAgaWYgKHRoaXMudmlzaWJsZUl0ZW1zLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy5wYWdlcy0tOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQm9vazogZnVuY3Rpb24gZGVsZXRlQm9vayhzZWxlY3RlZEJvb2tpZCkgewogICAgICB0aGlzLmRlbGV0ZShzZWxlY3RlZEJvb2tpZCk7CiAgICAgIHRoaXMudXBkYXRlVmlzaWJsZUl0ZW1zKCk7CiAgICAgIHRoaXMudXBkYXRlUGFnZXNsZW5ndGgoKTsKICAgIH0KICB9KSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5wYWdlcyA9IE1hdGguY2VpbCh0aGlzLmJvb2tMaXN0Lmxlbmd0aCAvIDMpOwogICAgY29uc29sZS5sb2codGhpcy5wYWdlcyk7CiAgICB0aGlzLnVwZGF0ZVZpc2libGVJdGVtcygpOwogICAgdGhpcy51cGRhdGVQYWdlc2xlbmd0aCgpOwogIH0sCiAgY29tcG9uZW50czogewogICAgYm9va0xpc3RJdGVtOiBib29rTGlzdEl0ZW0sCiAgICBwYWdpbmF0aW9uOiBwYWdpbmF0aW9uCiAgfQp9Ow=="},{"version":3,"sources":["BookList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,OAAA,YAAA,MAAA,4BAAA;AACA,OAAA,UAAA,MAAA,0BAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KADA;AAEA,MAAA,SAAA,EAAA,CAFA;AAGA,MAAA,WAAA,EAAA,CAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAYA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,MAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,UAJA,sBAIA,UAJA,EAIA;AACA,WAAA,WAAA,GAAA,UAAA;AACA,WAAA,kBAAA;AACA,KAPA;AAQA,IAAA,kBARA,gCAQA;AACA,WAAA,YAAA,GAAA,KAAA,QAAA,CAAA,KAAA,CACA,KAAA,WAAA,GAAA,KAAA,SADA,EAEA,KAAA,WAAA,GAAA,KAAA,SAAA,GAAA,KAAA,SAFA,CAAA;;AAKA,UAAA,KAAA,YAAA,CAAA,MAAA,IAAA,CAAA,IAAA,KAAA,WAAA,GAAA,CAAA,EAAA;AACA,aAAA,UAAA,CAAA,KAAA,WAAA,GAAA,CAAA;AACA;AACA,KAjBA;AAkBA,IAAA,iBAlBA,+BAkBA;AACA,UAAA,KAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,KAAA;AACA;AACA,KAtBA;AAuBA,IAAA,UAvBA,sBAuBA,cAvBA,EAuBA;AACA,WAAA,MAAA,CAAA,cAAA;AACA,WAAA,kBAAA;AACA,WAAA,iBAAA;AACA;AA3BA,IAZA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,SAAA,KAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA,QAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA,SAAA,kBAAA;AACA,SAAA,iBAAA;AACA,GA9CA;AA+CA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,UAAA,EAAA;AAFA;AA/CA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <h1 class=\"mt-3 mb-3 text-align:center\">BOOK LIST</h1>\n    <div class=\"border px-5 py-4\">\n      <div class=\"d-flex justify-content-between\">\n        <div>\n          <h4>\n            <b>Book List</b>\n          </h4>\n        </div>\n        <div>\n          <router-link :to=\"'/'\" tag=\"a\">return home page</router-link>\n        </div>\n      </div>\n      <div></div>\n      <div class=\"d-flex flex-column\">\n        <bookListItem\n          v-for=\"(item,index) in visibleItems\"\n          :key=\"index\"\n          :visibleItems=\"visibleItems\"\n          :currentPage=\"currentPage\"\n          :bookId=\"item.bookId\"\n          :inStore=\"item.inStore\"\n          :bookName=\"item.bookName\"\n          :author=\"item.author\"\n          :imgUrl=\"item.ImgUrl\"\n          @delete-book=\"deleteBook(item.bookId)\"\n        />\n      </div>\n      <pagination \n      @page:update=\"updatePage\" \n      :pages=\"pages\"\n      :currentPage=\"currentPage\" \n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport bookListItem from \"../components/bookListItem\";\nimport pagination from \"../components/pagination\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"BookList\",\n  data() {\n    return {\n      bookList: this.$store.state.books,\n      pageLimit: 3,\n      currentPage: 0,\n      visibleItems: [],\n      pages:''\n    };\n  },\n\n  methods: {\n    ...mapActions({\n      delete: \"deleteBook\",\n    }),\n    updatePage(pageNumber) {\n      this.currentPage = pageNumber;\n      this.updateVisibleItems();\n    },\n    updateVisibleItems() {\n      this.visibleItems = this.bookList.slice(\n        this.currentPage * this.pageLimit,\n        this.currentPage * this.pageLimit + this.pageLimit\n      );\n\n      if (this.visibleItems.length == 0 && this.currentPage > 0) {\n        this.updatePage(this.currentPage - 1);\n      }\n    },\n    updatePageslength(){\n      if(this.visibleItems.length == 0){\n        this.pages--\n      }\n    },\n    deleteBook(selectedBookid) {\n      this.delete(selectedBookid);\n      this.updateVisibleItems();\n      this.updatePageslength();\n    },\n  },\n  created() {\n    this.pages=Math.ceil(this.bookList.length/3)\n    console.log(this.pages)\n    this.updateVisibleItems();\n    this.updatePageslength()\n  },\n  components: {\n    bookListItem,\n    pagination,\n  },\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/views"}]}