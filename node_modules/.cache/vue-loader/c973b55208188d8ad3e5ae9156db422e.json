{"remainingRequest":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/brkkali/works/TestCases/bookstore/book-store/src/views/BookList.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/brkkali/works/TestCases/bookstore/book-store/src/views/BookList.vue","mtime":1598465526837},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/brkkali/works/TestCases/bookstore/book-store/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKYSB7CiAgY29sb3I6IHdoZWF0Owp9CmE6aG92ZXJ7CiAgY29sb3I6d2hpdGVzbW9rZTsKfQojYm9va0xpc3QgewogIG1hcmdpbi10b3A6IDE1dmg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2M3YjE5ODsKICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KI2JhY2tncm91bmRCb29rTGlzdCB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIi4uL2Fzc2V0cy9ib29rU3RvcmUtYmFja2dyb3VuZC5qcGciKTsKICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzOCwgMjM4LCAyMzgsIDAuMykgIWltcG9ydGFudDsKICBiYWNrZ3JvdW5kLWJsZW5kLW1vZGU6IGNvbG9yOwp9Cg=="},{"version":3,"sources":["BookList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"backgroundBookList\">\n    <div class=\"container\">\n      <div id=\"bookList\">\n        <div class=\"bookList1 border px-5 py-4\">\n          <div class=\"d-flex justify-content-between\">\n            <div>\n              <h4>\n                <b>Book List</b>\n              </h4>\n            </div>\n            <div>\n              <router-link :to=\"'/'\" tag=\"a\">return home page</router-link>\n            </div>\n          </div>\n          <div></div>\n          <div class=\"d-flex flex-column\">\n            <bookListItem\n              v-for=\"(item,index) in visibleItems\"\n              :key=\"index\"\n              :visibleItems=\"visibleItems\"\n              :currentPage=\"currentPage\"\n              :bookId=\"item.bookId\"\n              :inStore=\"item.inStore\"\n              :bookName=\"item.bookName\"\n              :author=\"item.author\"\n              :imgUrl=\"item.ImgUrl\"\n              @delete-book=\"deleteBook(item.bookId)\"\n            />\n          </div>\n          <pagination @page:update=\"updatePage\" :pages=\"pages\" :currentPage=\"currentPage\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport bookListItem from \"../components/bookListItem\";\nimport pagination from \"../components/pagination\";\nimport { mapActions } from \"vuex\";\n\nexport default {\n  name: \"BookList\",\n  data() {\n    return {\n      bookList: this.$store.state.books,\n      pageLimit: 3,\n      currentPage: 0,\n      visibleItems: [],\n      pages: \"\",\n      isShow: false,\n    };\n  },\n\n  methods: {\n    ...mapActions({\n      delete: \"deleteBook\",\n    }),\n    updatePage(pageNumber) {\n      this.currentPage = pageNumber;\n      this.updateVisibleItems();\n    },\n    updateVisibleItems() {\n      this.visibleItems = this.bookList.slice(\n        this.currentPage * this.pageLimit,\n        this.currentPage * this.pageLimit + this.pageLimit\n      );\n\n      if (this.visibleItems.length == 0 && this.currentPage > 0) {\n        this.updatePage(this.currentPage - 1);\n      }\n    },\n    updatePageslength() {\n      // bunu sil\n      if (this.visibleItems.length == 0) {\n        this.pages--;\n      }\n    },\n    deleteBook(selectedBookid) {\n      this.delete(selectedBookid);\n      this.updateVisibleItems();\n      this.updatePageslength(); // bunu sil\n    },\n  },\n  created() {\n    this.pages = Math.ceil(this.bookList.length / 3);\n    console.log(this.pages);\n    this.updateVisibleItems();\n    this.updatePageslength();\n  },\n  components: {\n    bookListItem,\n    pagination,\n  },\n};\n</script>\n\n<style>\na {\n  color: wheat;\n}\na:hover{\n  color:whitesmoke;\n}\n#bookList {\n  margin-top: 15vh;\n  background-color: #c7b198;\n  border-radius: 5px;\n}\n#backgroundBookList {\n    background-image: url(\"../assets/bookStore-background.jpg\");\n  background-size: 100% 100%;\n  background-color: rgba(238, 238, 238, 0.3) !important;\n  background-blend-mode: color;\n}\n</style>"]}]}